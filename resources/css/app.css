@import "tailwindcss";

@theme {
    --font-heading: 'Outfit', sans-serif;
}

@layer base {
    * {
        cursor: none !important;
    }
}

@layer utilities {
    .split-text {
        overflow: hidden;
    }

    /* Marquee Animation */
    .marquee-inner {
        display: flex;
        width: fit-content;
        animation: marquee 20s linear infinite;
    }

    @keyframes marquee {
        0% {
            transform: translateX(0);
        }

        100% {
            transform: translateX(-50%);
        }
    }

    /* Reveal Animations */
    .reveal-card {
        clip-path: polygon(0 100%, 100% 100%, 100% 100%, 0 100%);
        transition: clip-path 1.5s cubic-bezier(0.77, 0, 0.175, 1);
    }

    .reveal-card.is-inview {
        clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
    }

    /* Perspective & 3D */
    .perspective-2000 {
        perspective: 2000px;
    }

    /* Smooth Scroll */
    html.lenis {
        height: auto;
    }

    .lenis.lenis-smooth {
        scroll-behavior: auto !important;
    }

    .lenis.lenis-smooth [data-lenis-prevent] {
        overscroll-behavior: contain;
    }

    .lenis.lenis-stopped {
        overflow: hidden;
    }

    /* Pinned Projects Section */
    .project-card {
        width: 80vw;
        aspect-ratio: 3 / 4;
        flex-shrink: 0;
        filter: grayscale(0.8);
        transform: translateY(0) scale(1);
        box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.3);
    }

    @media (min-width: 768px) {
        .project-card {
            width: 35vw;
            aspect-ratio: 3 / 4;
        }
    }

    @media (min-width: 1024px) {
        .project-card {
            width: 22vw;
            aspect-ratio: 3 / 4;
        }
    }

    .project-card.is-spotlight {
        filter: grayscale(0);
        transform: translateY(-12px) scale(1.02);
        box-shadow: 0 30px 60px -15px rgba(0, 0, 0, 0.5);
        z-index: 10;
    }

    .project-card.is-spotlight .project-card-image {
        filter: grayscale(0);
        opacity: 1;
    }

    .project-card.is-dimmed {
        filter: grayscale(1) blur(1px);
        opacity: 0.45;
    }

    /* Focus-visible mirrors hover spotlight */
    .project-card:focus-visible {
        filter: grayscale(0);
        transform: translateY(-12px) scale(1.02);
        box-shadow: 0 30px 60px -15px rgba(0, 0, 0, 0.5);
    }

    .project-card:focus-visible .project-card-image {
        filter: grayscale(0);
        opacity: 1;
    }

    /* Projects Background Lines Animation */
    .projects-bg-lines {
        z-index: 0;
    }

    .projects-bg-line-h {
        transform: translateX(-25%);
        will-change: transform;
        opacity: 0.8;
    }

    .projects-accent-line-h {
        will-change: transform;
        opacity: 0;
        transition: opacity 0.5s ease-out;
        box-shadow: 0 0 30px rgba(0, 255, 100, 0.4);
    }

    .projects-accent-line-h.is-visible {
        opacity: 1;
    }

    /* Glitch Animation */
    .glitch-text::before,
    .glitch-text::after {
        content: attr(data-text);
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0.8;
    }

    .glitch-text::before {
        animation: glitch-anim-1 3s infinite linear alternate-reverse;
        text-shadow: -2px 0 #00ff64;
        clip: rect(44px, 450px, 56px, 0);
    }

    .glitch-text::after {
        animation: glitch-anim-2 2s infinite linear alternate-reverse;
        text-shadow: 2px 0 #00ff64;
        clip: rect(44px, 450px, 56px, 0);
    }

    @keyframes glitch-anim-1 {
        0% {
            clip: rect(10px, 9999px, 86px, 0);
        }

        5% {
            clip: rect(62px, 9999px, 32px, 0);
        }

        10% {
            clip: rect(24px, 9999px, 12px, 0);
        }

        15% {
            clip: rect(89px, 9999px, 45px, 0);
        }

        20% {
            clip: rect(4px, 9999px, 91px, 0);
        }

        25% {
            clip: rect(56px, 9999px, 18px, 0);
        }

        30% {
            clip: rect(31px, 9999px, 73px, 0);
        }

        35% {
            clip: rect(94px, 9999px, 4px, 0);
        }

        40% {
            clip: rect(12px, 9999px, 88px, 0);
        }

        45% {
            clip: rect(78px, 9999px, 23px, 0);
        }

        50% {
            clip: rect(42px, 9999px, 59px, 0);
        }

        55% {
            clip: rect(9px, 9999px, 37px, 0);
        }

        60% {
            clip: rect(67px, 9999px, 82px, 0);
        }

        65% {
            clip: rect(21px, 9999px, 15px, 0);
        }

        70% {
            clip: rect(53px, 9999px, 96px, 0);
        }

        75% {
            clip: rect(36px, 9999px, 48px, 0);
        }

        80% {
            clip: rect(81px, 9999px, 29px, 0);
        }

        85% {
            clip: rect(15px, 9999px, 64px, 0);
        }

        90% {
            clip: rect(72px, 9999px, 3px, 0);
        }

        95% {
            clip: rect(48px, 9999px, 75px, 0);
        }

        100% {
            clip: rect(27px, 9999px, 41px, 0);
        }
    }

    @keyframes glitch-anim-2 {
        0% {
            clip: rect(76px, 9999px, 12px, 0);
        }

        5% {
            clip: rect(21px, 9999px, 84px, 0);
        }

        10% {
            clip: rect(93px, 9999px, 47px, 0);
        }

        15% {
            clip: rect(5px, 9999px, 31px, 0);
        }

        20% {
            clip: rect(64px, 9999px, 92px, 0);
        }

        25% {
            clip: rect(38px, 9999px, 15px, 0);
        }

        30% {
            clip: rect(82px, 9999px, 56px, 0);
        }

        35% {
            clip: rect(11px, 9999px, 78px, 0);
        }

        40% {
            clip: rect(57px, 9999px, 24px, 0);
        }

        45% {
            clip: rect(91px, 9999px, 63px, 0);
        }

        50% {
            clip: rect(29px, 9999px, 89px, 0);
        }

        55% {
            clip: rect(73px, 9999px, 4px, 0);
        }

        60% {
            clip: rect(18px, 9999px, 37px, 0);
        }

        65% {
            clip: rect(45px, 9999px, 95px, 0);
        }

        70% {
            clip: rect(87px, 9999px, 11px, 0);
        }

        75% {
            clip: rect(3px, 9999px, 52px, 0);
        }

        80% {
            clip: rect(61px, 9999px, 28px, 0);
        }

        85% {
            clip: rect(94px, 9999px, 76px, 0);
        }

        90% {
            clip: rect(12px, 9999px, 43px, 0);
        }

        95% {
            clip: rect(54px, 9999px, 9px, 0);
        }

        100% {
            clip: rect(32px, 9999px, 67px, 0);
        }
    }

    /* Ensure project content stays above background lines */
    #projects-pinned .projects-viewport {
        position: relative;
        z-index: 2;
    }

    #projects-pinned>.container {
        position: relative;
        z-index: 2;
    }
}